{"ast":null,"code":"import \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, createCommentVNode as _createCommentVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, withModifiers as _withModifiers, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, createBlock as _createBlock, createTextVNode as _createTextVNode } from \"vue\";\n\nvar _hoisted_1 = /*#__PURE__*/_createTextVNode(\" this is the module form: \");\n\nvar _hoisted_2 = {\n  key: 0\n};\n\nvar _hoisted_3 = /*#__PURE__*/_createElementVNode(\"h4\", null, \"Add/Edit Module\", -1\n/* HOISTED */\n);\n\nvar _hoisted_4 = /*#__PURE__*/_createElementVNode(\"label\", null, \"Course\", -1\n/* HOISTED */\n);\n\nvar _hoisted_5 = /*#__PURE__*/_createElementVNode(\"label\", null, \"Module#\", -1\n/* HOISTED */\n);\n\nvar _hoisted_6 = /*#__PURE__*/_createElementVNode(\"label\", null, \"Title\", -1\n/* HOISTED */\n);\n\nvar _hoisted_7 = /*#__PURE__*/_createElementVNode(\"label\", null, \"Description\", -1\n/* HOISTED */\n);\n\nvar _hoisted_8 = {\n  key: 0\n};\nvar _hoisted_9 = {\n  key: 1,\n  disabled: \"\"\n};\nvar _hoisted_10 = {\n  key: 0\n};\nvar _hoisted_11 = {\n  key: 1,\n  \"class\": \"video-container\"\n};\nvar _hoisted_12 = [\"onClick\"];\n\nvar _hoisted_13 = /*#__PURE__*/_createElementVNode(\"div\", null, \" ADD Video + \", -1\n/* HOISTED */\n);\n\nvar _hoisted_14 = {\n  key: 2\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_VideoForm = _resolveComponent(\"VideoForm\");\n\n  return _openBlock(), _createElementBlock(_Fragment, null, [_hoisted_1, $setup.edMod ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createElementVNode(\"form\", {\n    onSubmit: _cache[4] || (_cache[4] = _withModifiers(function () {\n      return $setup.handleSubmit && $setup.handleSubmit.apply($setup, arguments);\n    }, [\"prevent\"]))\n  }, [_hoisted_3, _hoisted_4, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    required: \"\",\n    placeholder: \"course\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = function ($event) {\n      return $setup.edMod.course = $event;\n    })\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $setup.edMod.course]]), _hoisted_5, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    required: \"\",\n    placeholder: \"modnumb\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = function ($event) {\n      return $setup.edMod.modnumb = $event;\n    })\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $setup.edMod.modnumb]]), _hoisted_6, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    required: \"\",\n    placeholder: \"title\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = function ($event) {\n      return $setup.edMod.title = $event;\n    })\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $setup.edMod.title]]), _hoisted_7, _withDirectives(_createElementVNode(\"textarea\", {\n    required: \"\",\n    placeholder: \"description\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = function ($event) {\n      return $setup.edMod.description = $event;\n    })\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, $setup.edMod.description]]), _createCommentVNode(\" <div class=\\\"error\\\">{{ fileError }}</div> \"), !$setup.isPending ? (_openBlock(), _createElementBlock(\"button\", _hoisted_8, \"UPDATE\")) : (_openBlock(), _createElementBlock(\"button\", _hoisted_9, \"Saving...\"))], 32\n  /* HYDRATE_EVENTS */\n  ), $setup.updated ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, \"module updated\")) : _createCommentVNode(\"v-if\", true)])) : _createCommentVNode(\"v-if\", true), $setup.documents ? (_openBlock(), _createElementBlock(\"div\", _hoisted_11, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.documents, function (document) {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: document.id\n    }, [_createElementVNode(\"div\", {\n      \"class\": \"video-listing\",\n      onClick: function onClick($event) {\n        return $setup.showVid(document);\n      }\n    }, _toDisplayString(document.title), 9\n    /* TEXT, PROPS */\n    , _hoisted_12)]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  )), _hoisted_13])) : _createCommentVNode(\"v-if\", true), _ctx.currentVideo ? (_openBlock(), _createElementBlock(\"div\", _hoisted_14, [(_openBlock(), _createBlock(_component_VideoForm, {\n    videoInfo: _ctx.currentVideo,\n    courseCol: $setup.colName,\n    key: $setup.componentKey\n  }, null, 8\n  /* PROPS */\n  , [\"videoInfo\", \"courseCol\"]))])) : _createCommentVNode(\"v-if\", true)], 64\n  /* STABLE_FRAGMENT */\n  );\n}","map":{"version":3,"mappings":";;;;;;;;;;8BAIMA,oBAAwB,IAAxB,EAAwB,IAAxB,EAAI,iBAAJ,EAAmB;AAAA;AAAnB;;8BACAA,oBAAqB,OAArB,EAAqB,IAArB,EAAO,QAAP,EAAa;AAAA;AAAb;;8BACAA,oBAAsB,OAAtB,EAAsB,IAAtB,EAAO,SAAP,EAAc;AAAA;AAAd;;8BACAA,oBAAoB,OAApB,EAAoB,IAApB,EAAO,OAAP,EAAY;AAAA;AAAZ;;8BACAA,oBAA0B,OAA1B,EAA0B,IAA1B,EAAO,aAAP,EAAkB;AAAA;AAAlB;;;;;;;EAIeC,QAAQ,EAAR;;;;;;;EAKG,SAAM;;;;+BAI1BD,oBAEM,KAFN,EAEM,IAFN,EAAK,eAAL,EAEA;AAAA;AAFA;;;;;;;;yEAnBSE,8BAAXC,oBAaM,KAbN,EAaMC,UAbN,EAaM,CAZJJ,oBAUO,MAVP,EAUO;IAVAK,QAAM;MAAA,OAAUH,mEAAV;IAAA,GAAsB,WAAtB;EAUN,CAVP,GACEI,YACAC,4BAAqBP,oBAAwE,OAAxE,EAAwE;IAAjEQ,IAAI,EAAC,MAA4D;IAArDC,QAAQ,EAAR,EAAqD;IAA5CC,WAAW,EAAC,QAAgC;;aAAdR,aAAMS,SAAMC;;EAAE,CAAxE;;EAAA,kBAA0DV,aAAMS,WACrFE,4BAAsBb,oBAA0E,OAA1E,EAA0E;IAAnEQ,IAAI,EAAC,MAA8D;IAAvDC,QAAQ,EAAR,EAAuD;IAA9CC,WAAW,EAAC,SAAkC;;aAAfR,aAAMY,UAAOF;;EAAE,CAA1E;;EAAA,kBAA2DV,aAAMY,YACvFC,4BAAoBf,oBAAsE,OAAtE,EAAsE;IAA/DQ,IAAI,EAAC,MAA0D;IAAnDC,QAAQ,EAAR,EAAmD;IAA1CC,WAAW,EAAC,OAA8B;;aAAbR,aAAMc,QAAKJ;;EAAE,CAAtE;;EAAA,kBAAyDV,aAAMc,UACnFC,4BAA0BjB,oBAAoF,UAApF,EAAoF;IAA1ES,QAAQ,EAAR,EAA0E;IAAjEC,WAAW,EAAC,aAAqD;;aAA9BR,aAAMgB,cAAWN;;EAAa,CAApF;;EAAA,kBAAsDV,aAAMgB,gBACtFC,sEAEejB,kCAAfC,oBAAyC,QAAzC,EAAyCiB,UAAzC,EAA0B,QAA1B,oBACAjB,oBAA0C,QAA1C,cAAwB,WAAxB,GATF;;EAAA,CAYI,EADOD,gCAAXC,oBAAwC,KAAxC,EAAwCkB,WAAxC,EAAoB,gBAApB,sCACI,CAbN,wCAeWnB,kCAAXC,oBAOM,KAPN,eAOM,oBANJA,oBAEMmB,SAFN,EAEM,IAFN,EAEMC,YAFkBrB,gBAElB,EAF2B,UAArBsB,QAAqB,EAAb;yBAApBrB,oBAEM,KAFN,EAEM;MAF8BsB,GAAG,EAAED,QAAQ,CAACE;IAE5C,CAFN,GACE1B,oBAA+E,KAA/E,EAA+E;MAA1E,SAAM,eAAoE;MAAnD2B,OAAK;QAAA,OAAEzB,eAAQsB,QAAR,CAAF;MAAA;IAA8C,CAA/E,mBAAwDA,QAAQ,CAACR,MAAjE,EAAsE;IAAA;IAAtE,EAAsEY,WAAtE,EADF;GAEM,CAFN;;EAAA,CAMI,GAHJC,WAGI,CAPN,wCASWC,mCAAX3B,oBAEM,KAFN,EAEM4B,WAFN,EAEM,gBADJC,aAAgFC,oBAAhF,EAAgF;IAApEC,SAAS,EAAEJ,iBAAyD;IAA1CK,SAAS,EAAEjC,cAA+B;IAArBuB,GAAG,EAAEvB;EAAgB,CAAhF;;EAAA,6BACI,EAFN","names":["_createElementVNode","disabled","$setup","_createElementBlock","_hoisted_2","onSubmit","_hoisted_3","_hoisted_4","type","required","placeholder","course","$event","_hoisted_5","modnumb","_hoisted_6","title","_hoisted_7","description","_createCommentVNode","_hoisted_8","_hoisted_10","_Fragment","_renderList","document","key","id","onClick","_hoisted_12","_hoisted_13","_ctx","_hoisted_14","_createBlock","_component_VideoForm","videoInfo","courseCol"],"sourceRoot":"","sources":["/Users/docfrawley/Sites/srsite/src/components/ModuleForm.vue"],"sourcesContent":["<template>\n  this is the module form:\n  <div v-if=\"edMod\">\n    <form @submit.prevent=\"handleSubmit\">\n      <h4>Add/Edit Module</h4>\n      <label>Course</label><input type=\"text\" required placeholder=\"course\" v-model=\"edMod.course\">\n      <label>Module#</label><input type=\"text\" required placeholder=\"modnumb\" v-model=\"edMod.modnumb\">\n      <label>Title</label><input type=\"text\" required placeholder=\"title\" v-model=\"edMod.title\">\n      <label>Description</label><textarea required placeholder=\"description\" v-model=\"edMod.description\"></textarea>\n      <!-- <div class=\"error\">{{ fileError }}</div> -->\n\n      <button v-if=\"!isPending\">UPDATE</button>\n      <button v-else disabled>Saving...</button>\n    </form>\n    <div v-if=\"updated\">module updated</div>\n  </div>\n\n  <div v-if=\"documents\" class=\"video-container\">\n    <div v-for=\"document in documents\" :key=\"document.id\">\n      <div class=\"video-listing\" @click=\"showVid(document)\">{{document.title}} </div>\n    </div>\n    <div>\n      ADD Video +\n    </div>\n  </div>\n\n  <div v-if=\"currentVideo\">\n    <VideoForm :videoInfo=\"currentVideo\" :courseCol=\"colName\" :key=\"componentKey\" />\n  </div>\n</template>\n\n<script>\nimport { ref } from 'vue'\nimport useDocument from '@/composables/useDocument'\nimport VideoForm from '@/components/VideoForm.vue'\nimport getOrderDocs from '@/composables/getOrderDocs'\n\nexport default {\n  props: ['moduleInfo', 'modColName'],\n  components: {VideoForm},\n  setup(props) {\n    const edMod = ref(props.moduleInfo)\n    const { isPending, error, deleteTheDoc, updateTheDoc } = useDocument('course-modules', props.moduleInfo.id)\n    const { documents } = getOrderDocs(props.modColName, 'modules', props.moduleInfo.modnumb)\n    const updated = ref(false)\n    const componentKey = ref(0)\n    const currentVideo = ref()\n    const colName = ref(props.modColName)\n\n    const handleSubmit = async () => {\n      console.log(\"got here: \", edMod)\n      await updateTheDoc(edMod.value)\n      updated.value = true\n    }\n\n    const showVid = (info) => {\n      currentVideo.value = info\n      componentKey.value++\n    }\n\n\n    return { isPending, updated, edMod, handleSubmit, showVid, componentKey, documents, colName }\n  }\n\n}\n</script>\n\n<style>\n\n.video-listing {\n  padding: 10px;\n  background-color: lightblue;\n  cursor: pointer;\n  margin: 10px;\n}\n</style>"]},"metadata":{},"sourceType":"module"}