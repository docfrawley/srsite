{"ast":null,"code":"import useLogout from '../composables/useLogout';\nimport { useRouter } from 'vue-router';\nimport getUser from '@/composables/getUser';\nexport default {\n  setup(props, context) {\n    const {\n      user\n    } = getUser();\n    const {\n      logout,\n      error\n    } = useLogout();\n    const router = useRouter();\n\n    const handleClick = async () => {\n      await logout();\n\n      if (!error.value) {\n        console.log('user logged out'); // context.emit('logout')\n\n        router.push({\n          name: 'Login'\n        });\n      }\n    };\n\n    return {\n      handleClick,\n      user\n    };\n  }\n\n};","map":{"version":3,"mappings":"AAmBA,OAAOA,SAAP,MAAsB,0BAAtB;AACA,SAASC,SAAT,QAAyB,YAAzB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AAEA,eAAe;EACXC,KAAK,CAACC,KAAD,EAAQC,OAAR,EAAiB;IACpB,MAAM;MAAEC;IAAF,IAAWJ,OAAO,EAAxB;IACE,MAAM;MAACK,MAAD;MAASC;IAAT,IAAmBR,SAAS,EAAlC;IACA,MAAMS,MAAK,GAAIR,SAAS,EAAxB;;IAIA,MAAMS,WAAU,GAAG,YAAY;MAC3B,MAAMH,MAAM,EAAZ;;MACA,IAAI,CAACC,KAAK,CAACG,KAAX,EAAiB;QACbC,OAAO,CAACC,GAAR,CAAY,iBAAZ,EADa,CAEb;;QACAJ,MAAM,CAACK,IAAP,CAAY;UAAEC,IAAI,EAAE;QAAR,CAAZ;MACJ;IACJ,CAPA;;IASA,OAAO;MAAEL,WAAF;MAAeJ;IAAf,CAAP;EACJ;;AAlBW,CAAf","names":["useLogout","useRouter","getUser","setup","props","context","user","logout","error","router","handleClick","value","console","log","push","name"],"sourceRoot":"","sources":["/Users/docfrawley/Sites/NVoge/srsite/src/components/Navbar.vue"],"sourcesContent":["<template>\n  <div class=\"navbar\">\n    <nav>\n      <h1><router-link :to=\"{ name: 'Home' }\">Self-Relationality</router-link></h1>\n      <div class=\"links\">\n        <div v-if=\"user\">\n        <span> Hi there, {{ user.displayName }}</span>\n          <button @click=\"handleClick\">Logout</button>\n        </div>\n        <div v-else>\n          <router-link class=\"btn\" :to=\"{ name: 'Signup' }\">Signup</router-link>\n          <router-link class=\"btn\" :to=\"{ name: 'Login' }\">Login</router-link>\n        </div>\n      </div>\n    </nav>\n  </div>\n</template>\n\n<script>\nimport useLogout from '../composables/useLogout'\nimport { useRouter} from 'vue-router'\nimport getUser from '@/composables/getUser'\n\nexport default {\n    setup(props, context) {\n      const { user } = getUser()\n        const {logout, error } = useLogout()\n        const router = useRouter()\n\n        \n        \n        const handleClick =async () => {\n            await logout()\n            if (!error.value){\n                console.log('user logged out')\n                // context.emit('logout')\n                router.push({ name: 'Login'})\n            }\n        }\n\n        return { handleClick, user }\n    }\n}\n</script>\n\n<style scoped>\n  .navbar {\n    padding: 16px 10px;\n    margin-bottom: 60px;\n    background: white;\n  }\n  nav {\n    display: flex;\n    align-items: center;\n    max-width: 1200px;\n    margin: 0 auto;\n  }\n  nav img {\n    max-height: 60px;\n  }\n  nav h1 {\n    margin-left: 20px;\n  }\n  nav .links {\n    margin-left: auto;\n  }\n  nav .links a, button {\n    margin-left: 16px;\n    font-size: 14px;\n  }\n  span {\n    font-size: 14px;\n    display: inline-block;\n    margin-left: 16px;\n    padding-left: 16px;\n    border-left: 1px solid #eee;\n  }\n</style>"]},"metadata":{},"sourceType":"module"}