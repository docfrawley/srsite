{"ast":null,"code":"import _regeneratorRuntime from \"/Users/docfrawley/Sites/srsite/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/docfrawley/Sites/srsite/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { ref } from 'vue';\nimport { timestamp } from '@/firebase/config';\nimport useDocument from '@/composables/useDocument';\nexport default {\n  props: ['videoInfo', 'courseCol'],\n  setup: function setup(props) {\n    var edVid = ref(props.videoInfo);\n\n    var _useDocument = useDocument(props.courseCol, props.videoInfo.id),\n        isPending = _useDocument.isPending,\n        error = _useDocument.error,\n        deleteTheDoc = _useDocument.deleteTheDoc,\n        updateTheDoc = _useDocument.updateTheDoc;\n\n    var updated = ref(false);\n\n    var handleSubmit = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                console.log(\"got here: \", edVid);\n                _context.next = 3;\n                return updateTheDoc(edVid.value);\n\n              case 3:\n                updated.value = true;\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function handleSubmit() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    return {\n      isPending: isPending,\n      updated: updated,\n      edVid: edVid,\n      handleSubmit: handleSubmit\n    };\n  }\n};","map":{"version":3,"mappings":";;AAmBA,SAASA,GAAT,QAAoB,KAApB;AACA,SAASC,SAAT,QAA0B,mBAA1B;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,eAAe;EACbC,KAAK,EAAE,CAAC,WAAD,EAAc,WAAd,CADM;EAEbC,KAFa,iBAEPD,KAFO,EAEA;IACX,IAAME,KAAI,GAAIL,GAAG,CAACG,KAAK,CAACG,SAAP,CAAjB;;IACA,mBAAyDJ,WAAW,CAACC,KAAK,CAACI,SAAP,EAAkBJ,KAAK,CAACG,SAAN,CAAgBE,EAAlC,CAApE;IAAA,IAAQC,SAAR,gBAAQA,SAAR;IAAA,IAAmBC,KAAnB,gBAAmBA,KAAnB;IAAA,IAA0BC,YAA1B,gBAA0BA,YAA1B;IAAA,IAAwCC,YAAxC,gBAAwCA,YAAxC;;IACA,IAAMC,OAAM,GAAIb,GAAG,CAAC,KAAD,CAAnB;;IAEA,IAAMc,YAAW;MAAA,sEAAI;QAAA;UAAA;YAAA;cAAA;gBACnBC,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BX,KAA1B;gBADmB;gBAAA,OAEbO,YAAY,CAACP,KAAK,CAACY,KAAP,CAFC;;cAAA;gBAGnBJ,OAAO,CAACI,KAAR,GAAgB,IAAhB;;cAHmB;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAAJ;;MAAA,gBAAXH,YAAW;QAAA;MAAA;IAAA,GAAjB;;IAOA,OAAO;MAAEL,SAAS,EAATA,SAAF;MAAaI,OAAO,EAAPA,OAAb;MAAsBR,KAAK,EAALA,KAAtB;MAA6BS,YAAW,EAAXA;IAA7B,CAAP;EACF;AAfa,CAAf","names":["ref","timestamp","useDocument","props","setup","edVid","videoInfo","courseCol","id","isPending","error","deleteTheDoc","updateTheDoc","updated","handleSubmit","console","log","value"],"sourceRoot":"","sources":["/Users/docfrawley/Sites/srsite/src/components/VideoForm.vue"],"sourcesContent":["<template>\n  this is the module form:\n  <div v-if=\"edVid\">\n    <form @submit.prevent=\"handleSubmit\">\n      <h4>Add/Edit Module</h4>\n      <input type=\"text\" required placeholder=\"course\" v-model=\"edVid.course\">\n      <input type=\"text\" required placeholder=\"modnumb\" v-model=\"edVid.modnumb\">\n      <input type=\"text\" required placeholder=\"title\" v-model=\"edVid.title\">\n      <textarea required placeholder=\"description\" v-model=\"edVid.description\"></textarea>\n      <!-- <div class=\"error\">{{ fileError }}</div> -->\n\n      <button v-if=\"!isPending\">UPDATE</button>\n      <button v-else disabled>Saving...</button>\n    </form>\n    <div v-if=\"updated\">module updated</div>\n  </div>\n</template>\n\n<script>\nimport { ref } from 'vue'\nimport { timestamp } from '@/firebase/config'\nimport useDocument from '@/composables/useDocument'\nexport default {\n  props: ['videoInfo', 'courseCol'],\n  setup(props) {\n    const edVid = ref(props.videoInfo)\n    const { isPending, error, deleteTheDoc, updateTheDoc } = useDocument(props.courseCol, props.videoInfo.id)\n    const updated = ref(false)\n\n    const handleSubmit = async () => {\n      console.log(\"got here: \", edVid)\n      await updateTheDoc(edVid.value)\n      updated.value = true\n    }\n\n\n    return { isPending, updated, edVid, handleSubmit }\n  }\n\n}\n</script>\n\n<style>\n</style>"]},"metadata":{},"sourceType":"module"}