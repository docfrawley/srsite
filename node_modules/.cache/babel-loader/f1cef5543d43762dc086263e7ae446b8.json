{"ast":null,"code":"import _regeneratorRuntime from \"/Users/docfrawley/Sites/srsite/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/docfrawley/Sites/srsite/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport useLogout from '../composables/useLogout';\nimport { useRouter } from 'vue-router';\nimport getUser from '@/composables/getUser';\nimport { ref } from '@vue/reactivity';\nexport default {\n  setup: function setup(props, context) {\n    var _getUser = getUser(),\n        user = _getUser.user;\n\n    var _useLogout = useLogout(),\n        logout = _useLogout.logout,\n        error = _useLogout.error;\n\n    var router = useRouter();\n    var isAdmin = ref(true);\n\n    var handleClick = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return logout();\n\n              case 2:\n                if (!error.value) {\n                  console.log('user logged out'); // context.emit('logout')\n\n                  router.push({\n                    name: 'Login'\n                  });\n                }\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function handleClick() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    var goVideoAdmin = function goVideoAdmin() {\n      outer.push({\n        name: 'VideoAdmin'\n      });\n    };\n\n    return {\n      handleClick: handleClick,\n      user: user,\n      isAdmin: isAdmin\n    };\n  }\n};","map":{"version":3,"mappings":";;AAsBA,OAAOA,SAAP,MAAsB,0BAAtB;AACA,SAASC,SAAT,QAAyB,YAAzB;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,SAASC,GAAT,QAAoB,iBAApB;AAEA,eAAe;EACXC,KADW,iBACLC,KADK,EACEC,OADF,EACW;IACpB,eAAiBJ,OAAO,EAAxB;IAAA,IAAQK,IAAR,YAAQA,IAAR;;IACE,iBAAyBP,SAAS,EAAlC;IAAA,IAAOQ,MAAP,cAAOA,MAAP;IAAA,IAAeC,KAAf,cAAeA,KAAf;;IACA,IAAMC,MAAK,GAAIT,SAAS,EAAxB;IACA,IAAMU,OAAM,GAAIR,GAAG,CAAC,IAAD,CAAnB;;IAIA,IAAMS,WAAU;MAAA,sEAAG;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACTJ,MAAM,EADG;;cAAA;gBAEf,IAAI,CAACC,KAAK,CAACI,KAAX,EAAiB;kBACbC,OAAO,CAACC,GAAR,CAAY,iBAAZ,EADa,CAEb;;kBACAL,MAAM,CAACM,IAAP,CAAY;oBAAEC,IAAI,EAAE;kBAAR,CAAZ;gBACJ;;cANe;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAAH;;MAAA,gBAAVL,WAAU;QAAA;MAAA;IAAA,GAAhB;;IASJ,IAAMM,YAAW,GAAI,SAAfA,YAAe,GAAM;MACzBC,KAAK,CAACH,IAAN,CAAW;QAAEC,IAAI,EAAE;MAAR,CAAX;IACF,CAFA;;IAII,OAAO;MAAEL,WAAW,EAAXA,WAAF;MAAeL,IAAI,EAAJA,IAAf;MAAqBI,OAAM,EAANA;IAArB,CAAP;EACJ;AAvBW,CAAf","names":["useLogout","useRouter","getUser","ref","setup","props","context","user","logout","error","router","isAdmin","handleClick","value","console","log","push","name","goVideoAdmin","outer"],"sourceRoot":"","sources":["/Users/docfrawley/Sites/srsite/src/components/Navbar.vue"],"sourcesContent":["<template>\n  <div class=\"navbar\">\n    <nav>\n      <h1><router-link :to=\"{ name: 'home' }\">Self-Relationality</router-link></h1>\n      <div class=\"links\">\n        <div v-if=\"user\">\n        <div v-if=\"isAdmin\">\n        <button @click=\"goVideoAdmin\">Video Administration</button>\n        </div>\n        <span> Hi there, {{ user.displayName }}</span>\n          <button @click=\"handleClick\">Logout</button>\n        </div>\n        <div v-else>\n          <router-link class=\"btn\" :to=\"{ name: 'Signup' }\">Signup</router-link>\n          <router-link class=\"btn\" :to=\"{ name: 'Login' }\">Login</router-link>\n        </div>\n      </div>\n    </nav>\n  </div>\n</template>\n\n<script>\nimport useLogout from '../composables/useLogout'\nimport { useRouter} from 'vue-router'\nimport getUser from '@/composables/getUser'\nimport { ref } from '@vue/reactivity'\n\nexport default {\n    setup(props, context) {\n      const { user } = getUser()\n        const {logout, error } = useLogout()\n        const router = useRouter()\n        const isAdmin = ref(true)\n\n        \n        \n        const handleClick =async () => {\n            await logout()\n            if (!error.value){\n                console.log('user logged out')\n                // context.emit('logout')\n                router.push({ name: 'Login'})\n            }\n        }\n\n    const goVideoAdmin = () => {\n      outer.push({ name: 'VideoAdmin' })\n    }\n\n        return { handleClick, user, isAdmin }\n    }\n}\n</script>\n\n<style scoped>\n  .navbar {\n    padding: 16px 10px;\n    margin-bottom: 60px;\n    background: white;\n  }\n  nav {\n    display: flex;\n    align-items: center;\n    max-width: 1200px;\n    margin: 0 auto;\n  }\n  nav img {\n    max-height: 60px;\n  }\n  nav h1 {\n    margin-left: 20px;\n  }\n  nav .links {\n    margin-left: auto;\n  }\n  nav .links a, button {\n    margin-left: 16px;\n    font-size: 14px;\n  }\n  span {\n    font-size: 14px;\n    display: inline-block;\n    margin-left: 16px;\n    padding-left: 16px;\n    border-left: 1px solid #eee;\n  }\n</style>"]},"metadata":{},"sourceType":"module"}