{"ast":null,"code":"import _regeneratorRuntime from \"/Users/mattfrawley/sites/srsite/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/mattfrawley/sites/srsite/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { ref } from 'vue';\nimport getOrderDocs from '@/composables/getOrderDocs';\nimport getCollection from '@/composables/getCollection';\nimport getLesson from '@/composables/getLesson';\nexport default {\n  setup: function setup() {\n    var themods = ref();\n    var currentCourse = ref();\n    var currentModule = ref();\n\n    var _getCollection = getCollection('courses'),\n        error = _getCollection.error,\n        courses = _getCollection.documents;\n\n    var goToCourse = function goToCourse(c) {\n      var _getOrderDocs = getOrderDocs('course-modules', 'course', c.col_name),\n          err = _getOrderDocs.error,\n          mods = _getOrderDocs.documents;\n\n      if (mods) {\n        console.log('current mods: ', mods.value[0].title);\n        currentCourse.value = c;\n        themods.value = mods;\n        console.log('here are the mods: ', themods);\n      }\n    };\n\n    var showModule = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(theMod) {\n        var _yield$getOrderDocs, the_error, vids;\n\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return getOrderDocs(currentCourse.value, 'modules', theMod);\n\n              case 2:\n                _yield$getOrderDocs = _context.sent;\n                the_error = _yield$getOrderDocs.error;\n                vids = _yield$getOrderDocs.documents;\n                currentModule.value = theMod;\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function showModule(_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    return {\n      goToCourse: goToCourse,\n      error: error,\n      courses: courses,\n      themods: themods,\n      showModule: showModule,\n      currentCourse: currentCourse,\n      currentModule: currentModule\n    };\n  }\n};","map":{"version":3,"mappings":";;AA4BA,SAASA,GAAT,QAAoB,KAApB;AACA,OAAOC,YAAP,MAAyB,4BAAzB;AACA,OAAOC,aAAP,MAA0B,6BAA1B;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AAEA,eAAe;EACdC,KADc,mBACN;IACP,IAAMC,OAAM,GAAIL,GAAG,EAAnB;IACA,IAAMM,aAAY,GAAIN,GAAG,EAAzB;IACA,IAAMO,aAAY,GAAIP,GAAG,EAAzB;;IACA,qBAAqCE,aAAa,CAAC,SAAD,CAAlD;IAAA,IAAQM,KAAR,kBAAQA,KAAR;IAAA,IAA0BC,OAA1B,kBAAeC,SAAf;;IAEA,IAAMC,UAAS,GAAK,SAAdA,UAAc,CAACC,CAAD,EAAO;MACzB,oBAAuCX,YAAY,CAAC,gBAAD,EAAmB,QAAnB,EAA6BW,CAAC,CAACC,QAA/B,CAAnD;MAAA,IAAcC,GAAd,iBAAON,KAAP;MAAA,IAA6BO,IAA7B,iBAAmBL,SAAnB;;MACA,IAAIK,IAAJ,EAAS;QACPC,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BF,IAAI,CAACG,KAAL,CAAW,CAAX,EAAcC,KAA5C;QACAb,aAAa,CAACY,KAAd,GAAsBN,CAAtB;QACAP,OAAO,CAACa,KAAR,GAAgBH,IAAhB;QAEAC,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmCZ,OAAnC;MACF;IACF,CATA;;IAWA,IAAMe,UAAS;MAAA,sEAAI,iBAAOC,MAAP;QAAA;;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACuCpB,YAAY,CAACK,aAAa,CAACY,KAAf,EAAsB,SAAtB,EAAiCG,MAAjC,CADnD;;cAAA;gBAAA;gBACGC,SADH,uBACJd,KADI;gBACwBe,IADxB,uBACcb,SADd;gBAETH,aAAa,CAACW,KAAd,GAAsBG,MAAtB;;cAFS;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAAJ;;MAAA,gBAATD,UAAS;QAAA;MAAA;IAAA,GAAf;;IAOA,OAAO;MAAET,UAAU,EAAVA,UAAF;MAAcH,KAAK,EAALA,KAAd;MAAqBC,OAAO,EAAPA,OAArB;MAA8BJ,OAAO,EAAPA,OAA9B;MAAuCe,UAAU,EAAVA,UAAvC;MAAmDd,aAAa,EAAbA,aAAnD;MAAkEC,aAAa,EAAbA;IAAlE,CAAP;EACD;AA1Bc,CAAf","names":["ref","getOrderDocs","getCollection","getLesson","setup","themods","currentCourse","currentModule","error","courses","documents","goToCourse","c","col_name","err","mods","console","log","value","title","showModule","theMod","the_error","vids"],"sourceRoot":"","sources":["/Users/mattfrawley/sites/srsite/src/views/VideoAdmin.vue"],"sourcesContent":["<template>\n  This is the admin panel area\n\n  First pick which course to edit:\n  <div v-for=\"course in courses\" :key=\"course.id\" class=\"course-container\">\n      <div class=\"course-listing\" @click=\"goToCourse(course)\">{{course.title}} </div>\n      \n  </div>\n<div>ADD COURSE +</div>\n\n  <div v-if=\"themods\">\n    <div class=\"module-list\">\n      <p>list of modules: </p>\n      <!-- <div v-for=\"amod in modules\" :key=\"amod.id\">\n          <span class=\"ind-mod\" @click=\"showModule(amod.module)\">{{amod.title}} </span>\n      </div> -->\n      <div>\n        ADD MODULE +\n      </div>\n    </div>\n  </div>\n\n  \n\n  \n</template>\n\n<script>\nimport { ref } from 'vue'\nimport getOrderDocs from '@/composables/getOrderDocs'\nimport getCollection from '@/composables/getCollection'\nimport getLesson from '@/composables/getLesson'\n\nexport default {\n setup() {\n  const themods = ref()\n  const currentCourse = ref()\n  const currentModule = ref()\n  const { error, documents: courses} = getCollection('courses')\n\n  const goToCourse =  (c) => {\n    const {error: err, documents:mods } =  getOrderDocs('course-modules', 'course', c.col_name)\n    if (mods){\n      console.log('current mods: ', mods.value[0].title)\n      currentCourse.value = c\n      themods.value = mods\n      \n      console.log('here are the mods: ', themods)\n    }\n  }\n\n  const showModule = async (theMod)=>{\n          const {error: the_error, documents:vids}  = await getOrderDocs(currentCourse.value, 'modules', theMod)\n            currentModule.value = theMod\n            \n        }\n\n\n  return { goToCourse, error, courses, themods, showModule, currentCourse, currentModule}\n }\n}\n</script>\n\n<style scoped>\n.course-container{\n  display:flex;\n  justify-content: space-between;\n  flex-direction: row;\n}\n.course-listing{\n  width:250px;\n  height:300px;\n  background-color: bisque;\n  cursor: pointer;\n  margin: 10px;\n}\n\n</style>"]},"metadata":{},"sourceType":"module"}