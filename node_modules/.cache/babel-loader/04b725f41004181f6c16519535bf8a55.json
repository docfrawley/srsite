{"ast":null,"code":"import _regeneratorRuntime from \"/Users/docfrawley/Sites/srsite/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/docfrawley/Sites/srsite/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { ref } from 'vue';\nimport useDocument from '@/composables/useDocument';\nimport VideoForm from '@/components/VideoForm.vue';\nimport getOrderDocs from '@/composables/getOrderDocs';\nimport AddVideo from '@/components/AddVideo.vue';\nexport default {\n  props: ['moduleInfo', 'modColName'],\n  components: {\n    VideoForm: VideoForm,\n    AddVideo: AddVideo\n  },\n  setup: function setup(props) {\n    var edMod = ref(props.moduleInfo);\n\n    var _useDocument = useDocument('course-modules', props.moduleInfo.id),\n        isPending = _useDocument.isPending,\n        error = _useDocument.error,\n        deleteTheDoc = _useDocument.deleteTheDoc,\n        updateTheDoc = _useDocument.updateTheDoc;\n\n    var _getOrderDocs = getOrderDocs(props.modColName, 'modules', props.moduleInfo.modnumb),\n        documents = _getOrderDocs.documents;\n\n    var updated = ref(false);\n    var componentKey = ref(0);\n    var currentVideo = ref();\n    var colName = ref(props.modColName);\n    var showAddForm = ref(false);\n\n    var handleSubmit = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                console.log(\"got here: \", edMod);\n                _context.next = 3;\n                return updateTheDoc(edMod.value);\n\n              case 3:\n                updated.value = true;\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function handleSubmit() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    var showVid = function showVid(info) {\n      currentVideo.value = info;\n      componentKey.value++;\n      console.log(\"here is info: \", currentVideo.value);\n    };\n\n    var wasItAdded = function wasItAdded(addedYes) {\n      showAddForm.value = false;\n    };\n\n    var showAddVideoForm = function showAddVideoForm() {\n      showAddForm.value = true;\n    };\n\n    return {\n      isPending: isPending,\n      updated: updated,\n      edMod: edMod,\n      handleSubmit: handleSubmit,\n      showVid: showVid,\n      componentKey: componentKey,\n      documents: documents,\n      colName: colName,\n      currentVideo: currentVideo,\n      showAddForm: showAddForm,\n      wasItAdded: wasItAdded\n    };\n  }\n};","map":{"version":3,"mappings":";;AAsCA,SAASA,GAAT,QAAoB,KAApB;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,OAAOC,SAAP,MAAsB,4BAAtB;AACA,OAAOC,YAAP,MAAyB,4BAAzB;AACA,OAAOC,QAAP,MAAqB,2BAArB;AAGA,eAAe;EACbC,KAAK,EAAE,CAAC,YAAD,EAAe,YAAf,CADM;EAEbC,UAAU,EAAE;IAACJ,SAAS,EAATA,SAAD;IAAYE,QAAQ,EAARA;EAAZ,CAFC;EAGbG,KAHa,iBAGPF,KAHO,EAGA;IACX,IAAMG,KAAI,GAAIR,GAAG,CAACK,KAAK,CAACI,UAAP,CAAjB;;IACA,mBAAyDR,WAAW,CAAC,gBAAD,EAAmBI,KAAK,CAACI,UAAN,CAAiBC,EAApC,CAApE;IAAA,IAAQC,SAAR,gBAAQA,SAAR;IAAA,IAAmBC,KAAnB,gBAAmBA,KAAnB;IAAA,IAA0BC,YAA1B,gBAA0BA,YAA1B;IAAA,IAAwCC,YAAxC,gBAAwCA,YAAxC;;IACA,oBAAsBX,YAAY,CAACE,KAAK,CAACU,UAAP,EAAmB,SAAnB,EAA8BV,KAAK,CAACI,UAAN,CAAiBO,OAA/C,CAAlC;IAAA,IAAQC,SAAR,iBAAQA,SAAR;;IACA,IAAMC,OAAM,GAAIlB,GAAG,CAAC,KAAD,CAAnB;IACA,IAAMmB,YAAW,GAAInB,GAAG,CAAC,CAAD,CAAxB;IACA,IAAMoB,YAAW,GAAIpB,GAAG,EAAxB;IACA,IAAMqB,OAAM,GAAIrB,GAAG,CAACK,KAAK,CAACU,UAAP,CAAnB;IACA,IAAMO,WAAU,GAAItB,GAAG,CAAC,KAAD,CAAvB;;IAGA,IAAMuB,YAAW;MAAA,sEAAI;QAAA;UAAA;YAAA;cAAA;gBACnBC,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BjB,KAA1B;gBADmB;gBAAA,OAEbM,YAAY,CAACN,KAAK,CAACkB,KAAP,CAFC;;cAAA;gBAGnBR,OAAO,CAACQ,KAAR,GAAgB,IAAhB;;cAHmB;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAAJ;;MAAA,gBAAXH,YAAW;QAAA;MAAA;IAAA,GAAjB;;IAMA,IAAMI,OAAM,GAAI,SAAVA,OAAU,CAACC,IAAD,EAAU;MACxBR,YAAY,CAACM,KAAb,GAAqBE,IAArB;MACAT,YAAY,CAACO,KAAb;MACAF,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BL,YAAY,CAACM,KAA3C;IACF,CAJA;;IAMA,IAAMG,UAAS,GAAI,SAAbA,UAAa,CAACC,QAAD,EAAc;MAC/BR,WAAW,CAACI,KAAZ,GAAoB,KAApB;IACF,CAFA;;IAIA,IAAMK,gBAAe,GAAI,SAAnBA,gBAAmB,GAAK;MAC5BT,WAAW,CAACI,KAAZ,GAAkB,IAAlB;IACF,CAFA;;IAKA,OAAO;MAAEf,SAAS,EAATA,SAAF;MAAaO,OAAO,EAAPA,OAAb;MAAsBV,KAAK,EAALA,KAAtB;MAA6Be,YAAY,EAAZA,YAA7B;MAA2CI,OAAO,EAAPA,OAA3C;MAAoDR,YAAY,EAAZA,YAApD;MAAkEF,SAAS,EAATA,SAAlE;MAA6EI,OAAO,EAAPA,OAA7E;MAAsFD,YAAY,EAAZA,YAAtF;MAAoGE,WAAW,EAAXA,WAApG;MAAiHO,UAAS,EAATA;IAAjH,CAAP;EACF;AApCa,CAAf","names":["ref","useDocument","VideoForm","getOrderDocs","AddVideo","props","components","setup","edMod","moduleInfo","id","isPending","error","deleteTheDoc","updateTheDoc","modColName","modnumb","documents","updated","componentKey","currentVideo","colName","showAddForm","handleSubmit","console","log","value","showVid","info","wasItAdded","addedYes","showAddVideoForm"],"sourceRoot":"","sources":["/Users/docfrawley/Sites/srsite/src/components/ModuleForm.vue"],"sourcesContent":["<template>\n  this is the module form:\n  <div v-if=\"edMod\">\n    <form @submit.prevent=\"handleSubmit\">\n      <h4>Add/Edit Module</h4>\n      <label>Course</label><input type=\"text\" required placeholder=\"course\" v-model=\"edMod.course\">\n      <label>Module#</label><input type=\"text\" required placeholder=\"modnumb\" v-model=\"edMod.modnumb\">\n      <label>Title</label><input type=\"text\" required placeholder=\"title\" v-model=\"edMod.title\">\n      <label>Description</label><textarea required placeholder=\"description\" v-model=\"edMod.description\"></textarea>\n      <!-- <div class=\"error\">{{ fileError }}</div> -->\n\n      <button v-if=\"!isPending\">UPDATE</button>\n      <button v-else disabled>Saving...</button>\n    </form>\n    <div v-if=\"updated\">module updated</div>\n  </div>\n\n  <div v-if=\"documents\" class=\"video-container\">\n    <div v-for=\"document in documents\" :key=\"document.id\">\n      <div class=\"video-listing\" @click=\"showVid(document)\">{{document.title}} </div>\n    </div>\n    <button @click=\"showAddVideoForm\">\n      ADD Video +\n    </button>\n  </div>\n\n  <div v-if=\"currentVideo\">\n    hello there\n    <VideoForm :videoInfo=\"currentVideo\" :courseCol=\"colName\" :key=\"componentKey\" />\n  </div>\n\n  <div v-if=\"showAddForm\">\n    <AddVideo @videoAdded=\"wasItAdded\" :courseCol=\"colName\" />\n  </div>\n\n</template>\n\n<script>\nimport { ref } from 'vue'\nimport useDocument from '@/composables/useDocument'\nimport VideoForm from '@/components/VideoForm.vue'\nimport getOrderDocs from '@/composables/getOrderDocs'\nimport AddVideo from '@/components/AddVideo.vue'\n\n\nexport default {\n  props: ['moduleInfo', 'modColName'],\n  components: {VideoForm, AddVideo},\n  setup(props) {\n    const edMod = ref(props.moduleInfo)\n    const { isPending, error, deleteTheDoc, updateTheDoc } = useDocument('course-modules', props.moduleInfo.id)\n    const { documents } = getOrderDocs(props.modColName, 'modules', props.moduleInfo.modnumb)\n    const updated = ref(false)\n    const componentKey = ref(0)\n    const currentVideo = ref()\n    const colName = ref(props.modColName)\n    const showAddForm = ref(false)\n\n\n    const handleSubmit = async () => {\n      console.log(\"got here: \", edMod)\n      await updateTheDoc(edMod.value)\n      updated.value = true\n    }\n\n    const showVid = (info) => {\n      currentVideo.value = info\n      componentKey.value++\n      console.log(\"here is info: \", currentVideo.value)\n    }\n\n    const wasItAdded = (addedYes) => {\n      showAddForm.value = false\n    }\n\n    const showAddVideoForm = () =>{\n      showAddForm.value=true\n    }\n\n\n    return { isPending, updated, edMod, handleSubmit, showVid, componentKey, documents, colName, currentVideo, showAddForm, wasItAdded }\n  }\n\n}\n</script>\n\n<style>\n\n.video-listing {\n  padding: 10px;\n  background-color: lightblue;\n  cursor: pointer;\n  margin: 10px;\n}\n</style>"]},"metadata":{},"sourceType":"module"}