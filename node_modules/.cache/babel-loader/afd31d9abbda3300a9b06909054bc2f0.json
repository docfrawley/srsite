{"ast":null,"code":"import _regeneratorRuntime from \"/Users/docfrawley/Sites/srsite/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/docfrawley/Sites/srsite/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { ref } from 'vue';\nimport useCollection from '@/composables/useCollection';\nimport getLength from '@/composables/getLength';\nexport default {\n  props: ['courseCol', 'moduleNumb'],\n  emits: ['videoAdded'],\n  setup: function setup(props, context) {\n    var _useCollection = useCollection(props.courseCol),\n        error = _useCollection.error,\n        addTheDocument = _useCollection.addTheDocument;\n\n    var _getLength = getLength(props.courseCol),\n        order = _getLength.order;\n\n    var wasAdded = ref(false);\n    var isPending = ref(false);\n    var title = ref();\n    var course = ref(props.courseCol);\n    var module = ref(props.moduleNumb);\n    var description = ref();\n    var iframe = ref();\n\n    var handleSubmit = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var res;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return addTheDocument({\n                  course: course.value,\n                  title: title.value,\n                  module: module.value,\n                  order: order.value,\n                  iframe: iframe.value,\n                  description: description.value\n                });\n\n              case 2:\n                res = _context.sent;\n                isPending.value = false;\n\n                if (res) {\n                  context.emit('videoAdded', {\n                    wasadded: true\n                  });\n                }\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function handleSubmit() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    return {\n      isPending: isPending,\n      wasAdded: wasAdded,\n      handleSubmit: handleSubmit,\n      title: title,\n      course: course,\n      module: module,\n      description: description,\n      order: order,\n      iframe: iframe\n    };\n  }\n};","map":{"version":3,"mappings":";;AAgBA,SAASA,GAAT,QAAoB,KAApB;AACA,OAAOC,aAAP,MAA0B,6BAA1B;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AAEA,eAAe;EACXC,KAAK,EAAE,CAAC,WAAD,EAAc,YAAd,CADI;EAEXC,KAAK,EAAE,CAAC,YAAD,CAFI;EAGXC,KAHW,iBAGLF,KAHK,EAGEG,OAHF,EAGW;IAClB,qBAAkCL,aAAa,CAACE,KAAK,CAACI,SAAP,CAA/C;IAAA,IAAQC,KAAR,kBAAQA,KAAR;IAAA,IAAeC,cAAf,kBAAeA,cAAf;;IACA,iBAAgBP,SAAS,CAACC,KAAK,CAACI,SAAP,CAAzB;IAAA,IAAOG,KAAP,cAAOA,KAAP;;IACA,IAAMC,QAAO,GAAIX,GAAG,CAAC,KAAD,CAApB;IACA,IAAMY,SAAQ,GAAIZ,GAAG,CAAC,KAAD,CAArB;IACA,IAAMa,KAAI,GAAIb,GAAG,EAAjB;IACA,IAAMc,MAAK,GAAId,GAAG,CAACG,KAAK,CAACI,SAAP,CAAlB;IACA,IAAMQ,MAAK,GAAIf,GAAG,CAACG,KAAK,CAACa,UAAP,CAAlB;IACA,IAAMC,WAAU,GAAIjB,GAAG,EAAvB;IACA,IAAMkB,MAAK,GAAIlB,GAAG,EAAlB;;IAGA,IAAMmB,YAAW;MAAA,sEAAI;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACCV,cAAc,CAAC;kBAC7BK,MAAM,EAAEA,MAAM,CAACM,KADc;kBAE7BP,KAAK,EAAEA,KAAK,CAACO,KAFgB;kBAG7BL,MAAM,EAAEA,MAAM,CAACK,KAHc;kBAI7BV,KAAK,EAAEA,KAAK,CAACU,KAJgB;kBAK7BF,MAAM,EAAEA,MAAM,CAACE,KALc;kBAM7BH,WAAW,EAAEA,WAAW,CAACG;gBANI,CAAD,CADf;;cAAA;gBACXC,GADW;gBASjBT,SAAS,CAACQ,KAAV,GAAkB,KAAlB;;gBACA,IAAIC,GAAJ,EAAS;kBACLf,OAAO,CAACgB,IAAR,CAAa,YAAb,EAA2B;oBAAEC,QAAQ,EAAE;kBAAZ,CAA3B;gBACJ;;cAZiB;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAAJ;;MAAA,gBAAXJ,YAAW;QAAA;MAAA;IAAA,GAAjB;;IAiBA,OAAO;MAAEP,SAAS,EAATA,SAAF;MAAaD,QAAQ,EAARA,QAAb;MAAuBQ,YAAY,EAAZA,YAAvB;MAAqCN,KAAK,EAALA,KAArC;MAA4CC,MAAM,EAANA,MAA5C;MAAoDC,MAAM,EAANA,MAApD;MAA4DE,WAAW,EAAXA,WAA5D;MAAyEP,KAAK,EAALA,KAAzE;MAAgFQ,MAAK,EAALA;IAAhF,CAAP;EACJ;AAjCW,CAAf","names":["ref","useCollection","getLength","props","emits","setup","context","courseCol","error","addTheDocument","order","wasAdded","isPending","title","course","module","moduleNumb","description","iframe","handleSubmit","value","res","emit","wasadded"],"sourceRoot":"","sources":["/Users/docfrawley/Sites/srsite/src/components/AddVideo.vue"],"sourcesContent":["<template>\n    this is the add video form:\n    <form @submit.prevent=\"handleSubmit\">\n        <h4>Add Video Form for the Col_name: {{course}} and module # {{module}} with order # of {{order}}</h4>\n        <label>Title</label><input type=\"text\" required placeholder=\"title\" v-model=\"title\">\n        <label>iframe</label><textarea required placeholder=\"iframe\" v-model=\"iframe\"></textarea>\n        <label>Description</label><textarea required placeholder=\"Description\" v-model=\"description\"></textarea>\n            <!-- <div class=\"error\">{{ fileError }}</div> -->\n\n            <button v-if=\"!isPending\">ADD MODULE</button>\n            <button v-else disabled>Saving...</button>\n    </form>\n    <div v-if=\"wasAdded\">course added</div>\n</template>\n\n<script>\nimport { ref } from 'vue'\nimport useCollection from '@/composables/useCollection'\nimport getLength from '@/composables/getLength'\n\nexport default {\n    props: ['courseCol', 'moduleNumb'],\n    emits: ['videoAdded'],\n    setup(props, context) {\n        const { error, addTheDocument } = useCollection(props.courseCol)\n        const {order} = getLength(props.courseCol)\n        const wasAdded = ref(false)\n        const isPending = ref(false)\n        const title = ref()\n        const course = ref(props.courseCol)\n        const module = ref(props.moduleNumb)\n        const description = ref()\n        const iframe = ref()\n\n\n        const handleSubmit = async () => {\n            const res = await addTheDocument({\n                course: course.value,\n                title: title.value,\n                module: module.value,\n                order: order.value,\n                iframe: iframe.value,\n                description: description.value\n            })\n            isPending.value = false\n            if (res) {\n                context.emit('videoAdded', { wasadded: true })\n            }\n\n        }\n\n\n        return { isPending, wasAdded, handleSubmit, title, course, module, description, order, iframe }\n    }\n\n}\n</script>\n\n<style>\n.module-listing {\n    padding: 10px;\n    background-color: aquamarine;\n    cursor: pointer;\n    margin: 10px;\n}\n</style>"]},"metadata":{},"sourceType":"module"}