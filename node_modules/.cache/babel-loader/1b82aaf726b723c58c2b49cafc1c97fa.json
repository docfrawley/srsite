{"ast":null,"code":"import _regeneratorRuntime from \"/Users/docfrawley/Sites/srsite/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/docfrawley/Sites/srsite/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { ref } from 'vue';\nimport getOrderDocs from '@/composables/getOrderDocs';\nimport getCollection from '@/composables/getCollection';\nimport CourseForm from '@/components/CourseForm.vue';\nimport ModuleForm from '@/components/ModuleForm.vue';\nimport VideoForm from '@/components/VideoForm.vue';\nimport getLesson from '@/composables/getLesson';\nexport default {\n  components: {\n    CourseForm: CourseForm,\n    ModuleForm: ModuleForm,\n    VideoForm: VideoForm\n  },\n  setup: function setup() {\n    var themods = ref();\n    var currentCourse = ref();\n    var currentModule = ref();\n    var currentVideo = ref();\n    var allvideos = ref();\n\n    var _getCollection = getCollection('courses'),\n        error = _getCollection.error,\n        courses = _getCollection.documents;\n\n    var goToCourse = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(c) {\n        var _yield$getOrderDocs, err, mods;\n\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                currentCourse.value = null;\n                themods.value = null;\n                currentModule.value = null;\n                currentVideo.value = null;\n                _context.next = 6;\n                return getOrderDocs('course-modules', 'course', c.col_name);\n\n              case 6:\n                _yield$getOrderDocs = _context.sent;\n                err = _yield$getOrderDocs.error;\n                mods = _yield$getOrderDocs.documents;\n\n                if (mods) {\n                  themods.value = mods;\n                }\n\n                currentCourse.value = c;\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function goToCourse(_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    var showModule = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(theMod) {\n        var _yield$getOrderDocs2, the_error, vids;\n\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                currentModule.value = null;\n                currentVideo.value = null;\n                allvideos.value = null;\n                _context2.next = 5;\n                return getOrderDocs(currentCourse.value.col_name, 'module', theMod.modnumb);\n\n              case 5:\n                _yield$getOrderDocs2 = _context2.sent;\n                the_error = _yield$getOrderDocs2.error;\n                vids = _yield$getOrderDocs2.documents;\n\n                if (vids) {\n                  allvideos.value = vids;\n                }\n\n                currentModule.value = theMod;\n\n              case 10:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function showModule(_x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n\n    var showVid = /*#__PURE__*/function () {\n      var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(info) {\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (info) {\n                  currentVideo.value = info;\n                }\n\n              case 1:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      return function showVid(_x3) {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n\n    var newCourseForm = function newCourseForm() {\n      currentCourse.value = \"new_course\";\n    };\n\n    return {\n      goToCourse: goToCourse,\n      error: error,\n      courses: courses,\n      themods: themods,\n      showModule: showModule,\n      currentCourse: currentCourse,\n      currentModule: currentModule,\n      showVid: showVid,\n      newCourseForm: newCourseForm,\n      allvideos: allvideos,\n      currentVideo: currentVideo\n    };\n  }\n};","map":{"version":3,"mappings":"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","names":["ref","getOrderDocs","getCollection","CourseForm","ModuleForm","VideoForm","getLesson","components","setup","themods","currentCourse","currentModule","currentVideo","allvideos","error","courses","documents","goToCourse","c","value","col_name","err","mods","showModule","theMod","modnumb","the_error","vids","showVid","info","newCourseForm"],"sourceRoot":"","sources":["/Users/docfrawley/Sites/srsite/src/views/VideoAdmin.vue"],"sourcesContent":["<template>\n  This is the admin panel area\n\n  First pick which course to edit:\n  <div class=\"course-container\">\n    <div v-for=\"course in courses\" :key=\"course.id\">\n      <div class=\"course-listing\" @click=\"goToCourse(course)\">{{course.title}} </div>\n    </div>\n    <div class=\"course-listing\" @click=\"newCourseForm\">ADD COURSE +</div>\n  </div>\n\n\n\n  <div v-if=\"currentCourse\">\n    <CourseForm :courseInfo=\"currentCourse\" />\n  </div>\n\n  <div v-if=\"themods\" class=\"module-container\">\n    <div v-for=\"amod in themods.value\" :key=\"amod.id\">\n      <div class=\"module-listing\" @click=\"showModule(amod)\">{{amod.title}} </div>\n    </div>\n    <div>\n      ADD MODULE +\n    </div>\n  </div>\n\n  <div v-if=\"currentModule\">\n    <ModuleForm :moduleInfo=\"currentModule\" />\n  </div>\n\n  <div v-if=\"allvideos\" class=\"video-container\">\n    <div v-for=\"video in allvideos.value\" :key=\"video.id\">\n      <div class=\"video-listing\" @click=\"showVid(video)\">{{video.title}} </div>\n    </div>\n    <div>\n      ADD Video +\n    </div>\n  </div>\n\n  <div v-if=\"currentVideo\">\n    <VideoForm :videoInfo=\"currentVideo\" :courseCol=\"currentCourse.col_name\" />\n  </div>\n\n\n\n</template>\n\n<script>\nimport { ref } from 'vue'\nimport getOrderDocs from '@/composables/getOrderDocs'\nimport getCollection from '@/composables/getCollection'\nimport CourseForm from '@/components/CourseForm.vue'\nimport ModuleForm from '@/components/ModuleForm.vue'\nimport VideoForm from '@/components/VideoForm.vue'\nimport getLesson from '@/composables/getLesson'\n\nexport default {\n  components: {CourseForm, ModuleForm, VideoForm },\n setup() {\n  const themods = ref()\n  const currentCourse = ref()\n  const currentModule = ref()\n  const currentVideo = ref()\n  const allvideos = ref()\n  const { error, documents: courses} = getCollection('courses')\n\n  const goToCourse = async (c) => {\n    currentCourse.value=null\n    themods.value=null\n    currentModule.value = null\n    currentVideo.value = null\n    const {error: err, documents:mods } = await getOrderDocs('course-modules', 'course', c.col_name)\n    if (mods){\n      themods.value = mods\n    }\n    currentCourse.value = c\n  }\n\n  const showModule = async (theMod)=>{    \n    currentModule.value = null\n    currentVideo.value = null\n    allvideos.value = null\n    const {error: the_error, documents:vids}  = await getOrderDocs(currentCourse.value.col_name, 'module', theMod.modnumb)\n    if (vids){\n      allvideos.value = vids\n    }\n    currentModule.value = theMod\n        }\n\n  const showVid = async (info)=>{\n    if (info){\n      currentVideo.value = info\n    }\n    \n  }\n\n  const newCourseForm=()=>{\n      currentCourse.value = \"new_course\"\n  }\n\n\n  return { goToCourse, error, courses, themods, showModule, currentCourse, currentModule, showVid, newCourseForm, allvideos, currentVideo}\n }\n}\n</script>\n\n<style scoped>\n.course-container, .module-container, .video-container{\n  display:flex;\n  justify-content: space-between;\n  flex-direction: row;\n}\n.course-listing{\n  width:250px;\n  height:300px;\n  background-color: bisque;\n  cursor: pointer;\n  margin: 10px;\n}\n\n.module-listing{\n  padding:10px;\n  background-color:aquamarine;\n  cursor: pointer;\n  margin: 10px;\n}\n\n.video-listing{\n  padding:10px;\n  background-color:lightblue;\n  cursor: pointer;\n  margin: 10px;\n}\n\n\n</style>"]},"metadata":{},"sourceType":"module"}