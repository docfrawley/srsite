{"ast":null,"code":"import _regeneratorRuntime from \"/Users/docfrawley/Sites/srsite/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/docfrawley/Sites/srsite/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { ref } from 'vue';\nimport useDocument from '@/composables/useDocument';\nimport getOrderDocs from '@/composables/getOrderDocs';\nimport ModuleForm from '@/components/ModuleForm.vue';\nimport AddModule from '@/components/AddModule.vue';\nexport default {\n  components: {\n    ModuleForm: ModuleForm,\n    AddModule: AddModule\n  },\n  props: ['courseInfo'],\n  setup: function setup(props) {\n    var edCourse = ref(props.courseInfo);\n\n    var _useDocument = useDocument('courses', props.courseInfo.id),\n        isPending = _useDocument.isPending,\n        error = _useDocument.error,\n        deleteTheDoc = _useDocument.deleteTheDoc,\n        updateTheDoc = _useDocument.updateTheDoc;\n\n    var updated = ref(false);\n\n    var _getOrderDocs = getOrderDocs('course-modules', 'course', props.courseInfo.col_name),\n        documents = _getOrderDocs.documents;\n\n    var modToEdit = ref();\n    var componentKey = ref(0);\n    var showAddForm = ref(false);\n\n    var handleSubmit = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return updateTheDoc(edCourse.value);\n\n              case 2:\n                updated.value = true;\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function handleSubmit() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    var showModule = function showModule(theMod) {\n      modToEdit.value = theMod;\n      componentKey.value++;\n    };\n\n    var newModuleForm = function newModuleForm(addYes) {\n      showAddForm.value = true;\n      modToEdit.value = null;\n    };\n\n    return {\n      showAddForm: showAddForm,\n      isPending: isPending,\n      updated: updated,\n      edCourse: edCourse,\n      handleSubmit: handleSubmit,\n      showModule: showModule,\n      documents: documents,\n      modToEdit: modToEdit,\n      componentKey: componentKey,\n      newModuleForm: newModuleForm\n    };\n  }\n};","map":{"version":3,"mappings":";;AAqCA,SAASA,GAAT,QAAoB,KAApB;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,OAAOC,YAAP,MAAyB,4BAAzB;AACA,OAAOC,UAAP,MAAuB,6BAAvB;AACA,OAAOC,SAAP,MAAsB,4BAAtB;AAGA,eAAe;EACbC,UAAU,EAAE;IAAEF,UAAU,EAAVA,UAAF;IAAcC,SAAQ,EAARA;EAAd,CADC;EAEbE,KAAK,EAAE,CAAC,YAAD,CAFM;EAGbC,KAHa,iBAGPD,KAHO,EAGA;IACX,IAAME,QAAO,GAAIR,GAAG,CAACM,KAAK,CAACG,UAAP,CAApB;;IACA,mBAAyDR,WAAW,CAAC,SAAD,EAAYK,KAAK,CAACG,UAAN,CAAiBC,EAA7B,CAApE;IAAA,IAAQC,SAAR,gBAAQA,SAAR;IAAA,IAAmBC,KAAnB,gBAAmBA,KAAnB;IAAA,IAA0BC,YAA1B,gBAA0BA,YAA1B;IAAA,IAAwCC,YAAxC,gBAAwCA,YAAxC;;IACA,IAAMC,OAAO,GAACf,GAAG,CAAC,KAAD,CAAjB;;IACA,oBAAsBE,YAAY,CAAC,gBAAD,EAAmB,QAAnB,EAA6BI,KAAK,CAACG,UAAN,CAAiBO,QAA9C,CAAlC;IAAA,IAAQC,SAAR,iBAAQA,SAAR;;IACA,IAAMC,SAAQ,GAAIlB,GAAG,EAArB;IACA,IAAMmB,YAAY,GAACnB,GAAG,CAAC,CAAD,CAAtB;IACA,IAAMoB,WAAU,GAAIpB,GAAG,CAAC,KAAD,CAAvB;;IAGA,IAAMqB,YAAW;MAAA,sEAAI;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACbP,YAAY,CAACN,QAAQ,CAACc,KAAV,CADC;;cAAA;gBAEnBP,OAAO,CAACO,KAAR,GAAc,IAAd;;cAFmB;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAAJ;;MAAA,gBAAXD,YAAW;QAAA;MAAA;IAAA,GAAjB;;IAKA,IAAME,UAAS,GAAK,SAAdA,UAAc,CAACC,MAAD,EAAY;MAC9BN,SAAS,CAACI,KAAV,GAAkBE,MAAlB;MACAL,YAAY,CAACG,KAAb;IACF,CAHA;;IAKA,IAAMG,aAAY,GAAI,SAAhBA,aAAgB,CAACC,MAAD,EAAY;MAChCN,WAAW,CAACE,KAAZ,GAAoB,IAApB;MACAJ,SAAS,CAACI,KAAV,GAAkB,IAAlB;IACF,CAHA;;IAMA,OAAO;MAAEF,WAAW,EAAXA,WAAF;MAAeT,SAAS,EAATA,SAAf;MAA0BI,OAAO,EAAPA,OAA1B;MAAmCP,QAAQ,EAARA,QAAnC;MAA6Ca,YAAY,EAAZA,YAA7C;MAA2DE,UAAU,EAAVA,UAA3D;MAAuEN,SAAS,EAATA,SAAvE;MAAkFC,SAAS,EAATA,SAAlF;MAA6FC,YAAY,EAAZA,YAA7F;MAA2GM,aAAY,EAAZA;IAA3G,CAAP;EACF;AA9Ba,CAAf","names":["ref","useDocument","getOrderDocs","ModuleForm","AddModule","components","props","setup","edCourse","courseInfo","id","isPending","error","deleteTheDoc","updateTheDoc","updated","col_name","documents","modToEdit","componentKey","showAddForm","handleSubmit","value","showModule","theMod","newModuleForm","addYes"],"sourceRoot":"","sources":["/Users/docfrawley/Sites/srsite/src/components/CourseForm.vue"],"sourcesContent":["<template>\n  this is the course form:\n  <div v-if=\"edCourse\">\n    <form @submit.prevent=\"handleSubmit\">\n      <h4>Edit Course Form</h4>\n      <label>Title</label><input type=\"text\" required placeholder=\"title\" v-model=\"edCourse.title\">\n      <label>Instructor</label><input type=\"text\" required placeholder=\"instructor\" v-model=\"edCourse.instructor\">\n      <label>Launch</label><input type=\"text\" required placeholder=\"launch\" v-model=\"edCourse.launch\">\n      <label>Status</label><input type=\"text\" required placeholder=\"status\" v-model=\"edCourse.status\">\n      <label>Col_Name</label><input type=\"text\" required placeholder=\"col_name\" v-model=\"edCourse.col_name\">\n      <label>Desscription</label><textarea required placeholder=\"description\" v-model=\"edCourse.description\"></textarea>\n      <!-- <div class=\"error\">{{ fileError }}</div> -->\n\n      <button v-if=\"!isPending\">UPDATE</button>\n      <button v-else disabled>Saving...</button>\n    </form>\n    <div v-if=\"updated\">course updated</div>\n  </div>\n  <div v-if=\"documents\" class=\"module-container\">\n    <div v-for=\"doc in documents\" :key=\"doc.id\">\n      <div class=\"module-listing\" @click=\"showModule(doc)\">{{doc.title}} </div>\n    </div>\n    <button @click=\"newModuleForm\">\n      ADD MODULE +\n    </button>\n  </div>\n  <div v-if=\"modToEdit\">\n    <ModuleForm :moduleInfo=\"modToEdit\" :modColName=\"edCourse.col_name\" :key=\"componentKey\" />\n  </div>\n\n  <div v-if=\"showAddForm\">\n    <AddModule @moduleAdded=\"wasItAdded\" />\n  </div>\n\n</template>\n\n<script>\nimport { ref } from 'vue'\nimport useDocument from '@/composables/useDocument'\nimport getOrderDocs from '@/composables/getOrderDocs'\nimport ModuleForm from '@/components/ModuleForm.vue'\nimport AddModule from '@/components/AddModule.vue'\n\n\nexport default {\n  components: { ModuleForm, AddModule },\n  props: ['courseInfo'],\n  setup(props) {\n    const edCourse = ref(props.courseInfo)\n    const { isPending, error, deleteTheDoc, updateTheDoc } = useDocument('courses', props.courseInfo.id)\n    const updated=ref(false)\n    const { documents } = getOrderDocs('course-modules', 'course', props.courseInfo.col_name)\n    const modToEdit = ref()\n    const componentKey=ref(0)\n    const showAddForm = ref(false)\n\n    \n    const handleSubmit = async () =>{\n      await updateTheDoc(edCourse.value)\n      updated.value=true\n    }\n\n    const showModule =  (theMod) => {\n      modToEdit.value = theMod\n      componentKey.value++\n    }\n\n    const newModuleForm = (addYes) => {\n      showAddForm.value = true\n      modToEdit.value = null\n    }\n\n\n    return { showAddForm, isPending, updated, edCourse, handleSubmit, showModule, documents, modToEdit, componentKey, newModuleForm }\n  }\n\n}\n</script>\n\n<style>\n\n.module-listing {\n  padding: 10px;\n  background-color: aquamarine;\n  cursor: pointer;\n  margin: 10px;\n}\n</style>"]},"metadata":{},"sourceType":"module"}