{"ast":null,"code":"import _regeneratorRuntime from \"/Users/docfrawley/Sites/srsite/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/docfrawley/Sites/srsite/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport { ref } from 'vue';\nimport useCollection from '@/composables/useCollection';\nimport { timestamp } from '@/firebase/config';\nimport useDocument from '@/composables/useDocument';\nexport default {\n  props: ['courseInfo'],\n  setup: function setup(props) {\n    var edCourse = ref(props.courseInfo);\n    var title = ref(props.courseInfo.title);\n    var instructor = ref(props.courseInfo.instructor);\n    var launch = ref(props.courseInfo.launch);\n    var status = ref(props.courseInfo.status);\n    var col_name = ref(props.courseInfo.col_name);\n    var description = ref(props.courseInfo.description);\n\n    var _useDocument = useDocument('courses', props.courseInfo.id),\n        error = _useDocument.error,\n        deleteTheDoc = _useDocument.deleteTheDoc,\n        updateTheDoc = _useDocument.updateTheDoc;\n\n    var isPending = ref(false);\n\n    var handleSubmit = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                isPending.value = true;\n                console.log(\"got here: \", title);\n                _context.next = 4;\n                return updateTheDoc();\n\n              case 4:\n                if (!error) {\n                  isPending.value = false;\n                }\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function handleSubmit() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    return {\n      error: error,\n      edCourse: edCourse,\n      handleSubmit: handleSubmit\n    };\n  }\n};","map":{"version":3,"mappings":";;;;AAqBA,SAASA,GAAT,QAAoB,KAApB;AACA,OAAOC,aAAP,MAA0B,6BAA1B;AACA,SAASC,SAAT,QAA0B,mBAA1B;AACA,OAAOC,WAAP,MAAwB,2BAAxB;AACA,eAAe;EACbC,KAAK,EAAE,CAAC,YAAD,CADM;EAEbC,KAFa,iBAEPD,KAFO,EAEA;IACX,IAAME,QAAO,GAAIN,GAAG,CAACI,KAAK,CAACG,UAAP,CAApB;IACA,IAAMC,KAAI,GAAIR,GAAG,CAACI,KAAK,CAACG,UAAN,CAAiBC,KAAlB,CAAjB;IACA,IAAMC,UAAS,GAAIT,GAAG,CAACI,KAAK,CAACG,UAAN,CAAiBE,UAAlB,CAAtB;IACA,IAAMC,MAAK,GAAIV,GAAG,CAACI,KAAK,CAACG,UAAN,CAAiBG,MAAlB,CAAlB;IACA,IAAMC,MAAK,GAAIX,GAAG,CAACI,KAAK,CAACG,UAAN,CAAiBI,MAAlB,CAAlB;IACA,IAAMC,QAAO,GAAIZ,GAAG,CAACI,KAAK,CAACG,UAAN,CAAiBK,QAAlB,CAApB;IACA,IAAMC,WAAU,GAAIb,GAAG,CAACI,KAAK,CAACG,UAAN,CAAiBM,WAAlB,CAAvB;;IACA,mBAA8CV,WAAW,CAAC,SAAD,EAAYC,KAAK,CAACG,UAAN,CAAiBO,EAA7B,CAAzD;IAAA,IAAQC,KAAR,gBAAQA,KAAR;IAAA,IAAeC,YAAf,gBAAeA,YAAf;IAAA,IAA6BC,YAA7B,gBAA6BA,YAA7B;;IACA,IAAMC,SAAQ,GAAIlB,GAAG,CAAC,KAAD,CAArB;;IAEA,IAAMmB,YAAW;MAAA,sEAAI;QAAA;UAAA;YAAA;cAAA;gBACnBD,SAAS,CAACE,KAAV,GAAkB,IAAlB;gBACAC,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0Bd,KAA1B;gBAFmB;gBAAA,OAGbS,YAAY,EAHC;;cAAA;gBAInB,IAAI,CAACF,KAAL,EAAW;kBACTG,SAAS,CAACE,KAAV,GAAkB,KAAlB;gBACF;;cANmB;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAAJ;;MAAA,gBAAXD,YAAW;QAAA;MAAA;IAAA,GAAjB;;IAWA,OAAO;MAACJ,KAAK,EAALA,KAAD;MAAQT,QAAQ,EAARA,QAAR;MAAkBa,YAAY,EAAZA;IAAlB,CAAP;EACF;AAzBa,CAAf","names":["ref","useCollection","timestamp","useDocument","props","setup","edCourse","courseInfo","title","instructor","launch","status","col_name","description","id","error","deleteTheDoc","updateTheDoc","isPending","handleSubmit","value","console","log"],"sourceRoot":"","sources":["/Users/docfrawley/Sites/srsite/src/components/CourseForm.vue"],"sourcesContent":["<template>\n  this is the course form:\n  <div>\n    <form @submit.prevent=\"handleSubmit\">\n      <h4>Add/Edit Course</h4>\n      <input type=\"text\" required placeholder=\"title\" v-model=\"edCourse.title\">\n      <input type=\"text\" required placeholder=\"instructor\" v-model=\"edCourse.instructor\">\n      <input type=\"text\" required placeholder=\"launch\" v-model=\"edCourse.launch\">\n      <input type=\"text\" required placeholder=\"status\" v-model=\"edCourse.status\">\n      <input type=\"text\" required placeholder=\"col_name\" v-model=\"edCourse.col_name\">\n      <textarea required placeholder=\"description\" v-model=\"edCourse.description\"></textarea>\n      <!-- <div class=\"error\">{{ fileError }}</div> -->\n\n      <button v-if=\"!isPending\">UPDATE</button>\n      <button v-else disabled>Saving...</button>\n    </form>\n    <div v-if=\"!error\">course updated</div>\n  </div>\n</template>\n\n<script>\nimport { ref } from 'vue'\nimport useCollection from '@/composables/useCollection'\nimport { timestamp } from '@/firebase/config'\nimport useDocument from '@/composables/useDocument'\nexport default {\n  props: ['courseInfo'],\n  setup(props) {\n    const edCourse = ref(props.courseInfo)\n    const title = ref(props.courseInfo.title)\n    const instructor = ref(props.courseInfo.instructor)\n    const launch = ref(props.courseInfo.launch)\n    const status = ref(props.courseInfo.status)\n    const col_name = ref(props.courseInfo.col_name)\n    const description = ref(props.courseInfo.description)\n    const { error, deleteTheDoc, updateTheDoc } = useDocument('courses', props.courseInfo.id)\n    const isPending = ref(false)\n\n    const handleSubmit = async () =>{\n      isPending.value = true\n      console.log(\"got here: \", title)\n      await updateTheDoc()\n      if (!error){\n        isPending.value = false\n      }\n      \n    }\n\n\n    return {error, edCourse, handleSubmit}\n  }\n\n}\n</script>\n\n<style>\n\n</style>"]},"metadata":{},"sourceType":"module"}