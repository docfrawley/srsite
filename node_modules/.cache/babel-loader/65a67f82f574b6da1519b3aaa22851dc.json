{"ast":null,"code":"import _regeneratorRuntime from \"/Users/docfrawley/Sites/srsite/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/docfrawley/Sites/srsite/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n// using @ means start at the project src root\nimport useLogin from '@/composables/useLogin';\nimport { ref } from 'vue';\nimport { useRouter } from 'vue-router';\nexport default {\n  setup: function setup() {\n    var _useLogin = useLogin(),\n        error = _useLogin.error,\n        login = _useLogin.login,\n        isPending = _useLogin.isPending;\n\n    var email = ref('');\n    var password = ref('');\n    var router = useRouter();\n\n    var handleSubmit = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var res;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return login(email.value, password.value);\n\n              case 2:\n                res = _context.sent;\n\n                if (!error.value) {\n                  router.push({\n                    name: 'home'\n                  });\n                }\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function handleSubmit() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    return {\n      email: email,\n      password: password,\n      handleSubmit: handleSubmit,\n      error: error,\n      isPending: isPending\n    };\n  }\n};","map":{"version":3,"mappings":";;AAYA;AACA,OAAOA,QAAP,MAAqB,wBAArB;AACA,SAASC,GAAT,QAAoB,KAApB;AACA,SAASC,SAAT,QAA0B,YAA1B;AAGA,eAAe;EACbC,KADa,mBACL;IACN,gBAAoCH,QAAQ,EAA5C;IAAA,IAAQI,KAAR,aAAQA,KAAR;IAAA,IAAeC,KAAf,aAAeA,KAAf;IAAA,IAAsBC,SAAtB,aAAsBA,SAAtB;;IACA,IAAMC,KAAI,GAAIN,GAAG,CAAC,EAAD,CAAjB;IACA,IAAMO,QAAO,GAAIP,GAAG,CAAC,EAAD,CAApB;IACA,IAAMQ,MAAK,GAAIP,SAAS,EAAxB;;IAEA,IAAMQ,YAAW;MAAA,sEAAI;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACDL,KAAK,CAACE,KAAK,CAACI,KAAP,EAAcH,QAAQ,CAACG,KAAvB,CADJ;;cAAA;gBACbC,GADa;;gBAEnB,IAAI,CAACR,KAAK,CAACO,KAAX,EAAkB;kBAChBF,MAAM,CAACI,IAAP,CAAY;oBAAEC,IAAI,EAAE;kBAAR,CAAZ;gBACF;;cAJmB;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAAJ;;MAAA,gBAAXJ,YAAW;QAAA;MAAA;IAAA,GAAjB;;IAMA,OAAO;MAAEH,KAAK,EAALA,KAAF;MAASC,QAAQ,EAARA,QAAT;MAAmBE,YAAY,EAAZA,YAAnB;MAAiCN,KAAK,EAALA,KAAjC;MAAwCE,SAAQ,EAARA;IAAxC,CAAP;EACF;AAda,CAAf","names":["useLogin","ref","useRouter","setup","error","login","isPending","email","password","router","handleSubmit","value","res","push","name"],"sourceRoot":"","sources":["/Users/docfrawley/Sites/srsite/src/views/auth/Login.vue"],"sourcesContent":["<template>\n  <form @submit.prevent=\"handleSubmit\">\n    <h3>Login</h3>\n    <input type=\"email\" placeholder=\"Email\" v-model=\"email\">\n    <input type=\"password\" placeholder=\"Password\" v-model=\"password\">\n    <div v-if=\"error\" class=\"error\">{{ error }}</div>\n    <button v-if=\"!isPending\">Log in</button>\n    <button v-if=\"isPending\" disabled>Loading</button>\n  </form>\n</template>\n\n<script>\n// using @ means start at the project src root\nimport useLogin from '@/composables/useLogin'\nimport { ref } from 'vue'\nimport { useRouter } from 'vue-router'\n\n\nexport default {\n  setup() {\n    const { error, login, isPending } = useLogin()\n    const email = ref('')\n    const password = ref('')\n    const router = useRouter()\n\n    const handleSubmit = async () => {\n      const res = await login(email.value, password.value)\n      if (!error.value) {\n        router.push({ name: 'home' })\n      }\n    }\n    return { email, password, handleSubmit, error, isPending }\n  }\n}\n</script>\n\n<style>\n\n</style>"]},"metadata":{},"sourceType":"module"}