{"ast":null,"code":"import _regeneratorRuntime from \"/Users/docfrawley/Sites/srsite/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/docfrawley/Sites/srsite/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { ref, defineEmits } from 'vue';\nimport useCollection from '@/composables/useCollection';\nexport default {\n  setup: function setup(props, context) {\n    var _useCollection = useCollection('courses'),\n        error = _useCollection.error,\n        addTheDocument = _useCollection.addTheDocument;\n\n    var wasAdded = ref(false);\n    var isPending = ref(false);\n    var title = ref();\n    var instructor = ref();\n    var status = ref();\n    var launch = ref();\n    var col_name = ref();\n    var description = ref();\n    var emit = defineEmits(['courseAdded']);\n\n    var handleSubmit = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var res;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return addTheDocument({\n                  title: title.value,\n                  instructor: instructor.value,\n                  status: status.value,\n                  launch: launch.value,\n                  col_name: col_name.value,\n                  description: description.value\n                });\n\n              case 2:\n                res = _context.sent;\n                isPending.value = false;\n\n                if (res) {\n                  context.emit('courseAdded');\n                }\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function handleSubmit() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    return {\n      isPending: isPending,\n      wasAdded: wasAdded,\n      handleSubmit: handleSubmit,\n      title: title,\n      instructor: instructor,\n      status: status,\n      launch: launch,\n      col_name: col_name,\n      description: description\n    };\n  }\n};","map":{"version":3,"mappings":";;AAoBA,SAASA,GAAT,EAAcC,WAAd,QAAiC,KAAjC;AACA,OAAOC,aAAP,MAA0B,6BAA1B;AAEA,eAAe;EACXC,KADW,iBACLC,KADK,EACEC,OADF,EACW;IAClB,qBAAkCH,aAAa,CAAC,SAAD,CAA/C;IAAA,IAAQI,KAAR,kBAAQA,KAAR;IAAA,IAAeC,cAAf,kBAAeA,cAAf;;IACA,IAAMC,QAAO,GAAIR,GAAG,CAAC,KAAD,CAApB;IACA,IAAMS,SAAS,GAACT,GAAG,CAAC,KAAD,CAAnB;IACA,IAAMU,KAAI,GAAIV,GAAG,EAAjB;IACA,IAAMW,UAAS,GAAIX,GAAG,EAAtB;IACA,IAAMY,MAAK,GAAIZ,GAAG,EAAlB;IACA,IAAMa,MAAK,GAAIb,GAAG,EAAlB;IACA,IAAMc,QAAO,GAAId,GAAG,EAApB;IACA,IAAMe,WAAU,GAAIf,GAAG,EAAvB;IACA,IAAMgB,IAAI,GAACf,WAAW,CAAC,CAAC,aAAD,CAAD,CAAtB;;IAGA,IAAMgB,YAAW;MAAA,sEAAI;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACCV,cAAc,CAAC;kBAC7BG,KAAK,EAAEA,KAAK,CAACQ,KADgB;kBAE7BP,UAAU,EAAEA,UAAU,CAACO,KAFM;kBAG7BN,MAAM,EAAEA,MAAM,CAACM,KAHc;kBAI7BL,MAAM,EAAEA,MAAM,CAACK,KAJc;kBAK7BJ,QAAQ,EAAEA,QAAQ,CAACI,KALU;kBAM7BH,WAAW,EAAEA,WAAW,CAACG;gBANI,CAAD,CADf;;cAAA;gBACXC,GADW;gBASjBV,SAAS,CAACS,KAAV,GAAkB,KAAlB;;gBACA,IAAIC,GAAJ,EAAQ;kBACJd,OAAO,CAACW,IAAR,CAAa,aAAb;gBACJ;;cAZiB;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAAJ;;MAAA,gBAAXC,YAAW;QAAA;MAAA;IAAA,GAAjB;;IAiBA,OAAO;MAAER,SAAS,EAATA,SAAF;MAAaD,QAAQ,EAARA,QAAb;MAAuBS,YAAY,EAAZA,YAAvB;MAAqCP,KAAK,EAALA,KAArC;MAA4CC,UAAU,EAAVA,UAA5C;MAAwDC,MAAM,EAANA,MAAxD;MAAgEC,MAAM,EAANA,MAAhE;MAAwEC,QAAQ,EAARA,QAAxE;MAAkFC,WAAU,EAAVA;IAAlF,CAAP;EACJ;AAhCW,CAAf","names":["ref","defineEmits","useCollection","setup","props","context","error","addTheDocument","wasAdded","isPending","title","instructor","status","launch","col_name","description","emit","handleSubmit","value","res"],"sourceRoot":"","sources":["/Users/docfrawley/Sites/srsite/src/components/AddCourse.vue"],"sourcesContent":["<template>\n    this is the add course form:\n        <form @submit.prevent=\"handleSubmit\">\n            <h4>Add Course Form</h4>\n            <label>Title</label><input type=\"text\" required placeholder=\"title\" v-model=\"title\">\n            <label>Instructor</label><input type=\"text\" required placeholder=\"instructor\" v-model=\"instructor\">\n            <label>Launch</label><input type=\"text\" required placeholder=\"launch\" v-model=\"launch\">\n            <label>Status</label><input type=\"text\" required placeholder=\"status\" v-model=\"status\">\n            <label>Col_Name</label><input type=\"text\" required placeholder=\"col_name\" v-model=\"col_name\">\n            <label>Desscription</label><textarea required placeholder=\"description\"\n                v-model=\"description\"></textarea>\n            <!-- <div class=\"error\">{{ fileError }}</div> -->\n\n            <button v-if=\"!isPending\">ADD COURSE</button>\n            <button v-else disabled>Saving...</button>\n        </form>\n        <div v-if=\"wasAdded\">course added</div>   \n</template>\n\n<script>\nimport { ref, defineEmits } from 'vue'\nimport useCollection from '@/composables/useCollection'\n\nexport default {\n    setup(props, context) {\n        const { error, addTheDocument } = useCollection('courses')\n        const wasAdded = ref(false)\n        const isPending=ref(false)\n        const title = ref()\n        const instructor = ref()\n        const status = ref()\n        const launch = ref()\n        const col_name = ref()\n        const description = ref()\n        const emit=defineEmits(['courseAdded'])\n        \n\n        const handleSubmit = async () => {\n            const res = await addTheDocument({\n                title: title.value,\n                instructor: instructor.value,\n                status: status.value,\n                launch: launch.value,\n                col_name: col_name.value,\n                description: description.value\n            })\n            isPending.value = false\n            if (res){\n                context.emit('courseAdded')\n            }\n            \n        }\n\n\n        return { isPending, wasAdded, handleSubmit, title, instructor, status, launch, col_name, description }\n    }\n\n}\n</script>\n\n<style>\n.module-listing {\n    padding: 10px;\n    background-color: aquamarine;\n    cursor: pointer;\n    margin: 10px;\n}\n</style>"]},"metadata":{},"sourceType":"module"}