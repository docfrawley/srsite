{"ast":null,"code":"import _regeneratorRuntime from \"/Users/docfrawley/Sites/srsite/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/docfrawley/Sites/srsite/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { ref } from 'vue';\nimport useCollection from '@/composables/useCollection';\nexport default {\n  props: ['courseCol'],\n  emits: ['videoAdded'],\n  setup: function setup(props, context) {\n    var _useCollection = useCollection(props.courseCol),\n        error = _useCollection.error,\n        addTheDocument = _useCollection.addTheDocument;\n\n    var wasAdded = ref(false);\n    var isPending = ref(false);\n    var title = ref();\n    var course = ref();\n    var module = ref();\n    var description = ref();\n\n    var handleSubmit = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var res;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return addTheDocument({\n                  course: course.value,\n                  title: title.value,\n                  modnumb: modnumb.value,\n                  description: description.value\n                });\n\n              case 2:\n                res = _context.sent;\n                isPending.value = false;\n\n                if (res) {\n                  context.emit('videoAdded', {\n                    wasadded: true\n                  });\n                }\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function handleSubmit() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    return {\n      isPending: isPending,\n      wasAdded: wasAdded,\n      handleSubmit: handleSubmit,\n      title: title,\n      course: course,\n      modnumb: modnumb,\n      description: description\n    };\n  }\n};","map":{"version":3,"mappings":";;AAiBA,SAASA,GAAT,QAAoB,KAApB;AACA,OAAOC,aAAP,MAA0B,6BAA1B;AAEA,eAAe;EACXC,KAAK,EAAE,CAAC,WAAD,CADI;EAEXC,KAAK,EAAE,CAAC,YAAD,CAFI;EAGXC,KAHW,iBAGLF,KAHK,EAGEG,OAHF,EAGW;IAClB,qBAAkCJ,aAAa,CAACC,KAAK,CAACI,SAAP,CAA/C;IAAA,IAAQC,KAAR,kBAAQA,KAAR;IAAA,IAAeC,cAAf,kBAAeA,cAAf;;IACA,IAAMC,QAAO,GAAIT,GAAG,CAAC,KAAD,CAApB;IACA,IAAMU,SAAQ,GAAIV,GAAG,CAAC,KAAD,CAArB;IACA,IAAMW,KAAI,GAAIX,GAAG,EAAjB;IACA,IAAMY,MAAK,GAAIZ,GAAG,EAAlB;IACA,IAAMa,MAAK,GAAIb,GAAG,EAAlB;IACA,IAAMc,WAAU,GAAId,GAAG,EAAvB;;IAGA,IAAMe,YAAW;MAAA,sEAAI;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACCP,cAAc,CAAC;kBAC7BI,MAAM,EAAEA,MAAM,CAACI,KADc;kBAE7BL,KAAK,EAAEA,KAAK,CAACK,KAFgB;kBAG7BC,OAAO,EAAEA,OAAO,CAACD,KAHY;kBAI7BF,WAAW,EAAEA,WAAW,CAACE;gBAJI,CAAD,CADf;;cAAA;gBACXE,GADW;gBAOjBR,SAAS,CAACM,KAAV,GAAkB,KAAlB;;gBACA,IAAIE,GAAJ,EAAS;kBACLb,OAAO,CAACc,IAAR,CAAa,YAAb,EAA2B;oBAAEC,QAAQ,EAAE;kBAAZ,CAA3B;gBACJ;;cAViB;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA,CAAJ;;MAAA,gBAAXL,YAAW;QAAA;MAAA;IAAA,GAAjB;;IAeA,OAAO;MAAEL,SAAS,EAATA,SAAF;MAAaD,QAAQ,EAARA,QAAb;MAAuBM,YAAY,EAAZA,YAAvB;MAAqCJ,KAAK,EAALA,KAArC;MAA4CC,MAAM,EAANA,MAA5C;MAAoDK,OAAO,EAAPA,OAApD;MAA6DH,WAAU,EAAVA;IAA7D,CAAP;EACJ;AA7BW,CAAf","names":["ref","useCollection","props","emits","setup","context","courseCol","error","addTheDocument","wasAdded","isPending","title","course","module","description","handleSubmit","value","modnumb","res","emit","wasadded"],"sourceRoot":"","sources":["/Users/docfrawley/Sites/srsite/src/components/AddVideo.vue"],"sourcesContent":["<template>\n    this is the add video form:\n    <form @submit.prevent=\"handleSubmit\">\n        <h4>Add Video Form</h4>\n        <label>Col_Name</label><input type=\"text\" required placeholder=\"Col_Name\" v-model=\"course\">\n        <label>Title</label><input type=\"text\" required placeholder=\"title\" v-model=\"title\">\n        <label>Module #</label><input type=\"text\" required placeholder=\"Module #\" v-model=\"modnumb\">\n        <label>Description</label><textarea required placeholder=\"Description\" v-model=\"description\"></textarea>\n        <!-- <div class=\"error\">{{ fileError }}</div> -->\n\n        <button v-if=\"!isPending\">ADD MODULE</button>\n        <button v-else disabled>Saving...</button>\n    </form>\n    <div v-if=\"wasAdded\">course added</div>\n</template>\n\n<script>\nimport { ref } from 'vue'\nimport useCollection from '@/composables/useCollection'\n\nexport default {\n    props: ['courseCol'],\n    emits: ['videoAdded'],\n    setup(props, context) {\n        const { error, addTheDocument } = useCollection(props.courseCol)\n        const wasAdded = ref(false)\n        const isPending = ref(false)\n        const title = ref()\n        const course = ref()\n        const module = ref()\n        const description = ref()\n\n\n        const handleSubmit = async () => {\n            const res = await addTheDocument({\n                course: course.value,\n                title: title.value,\n                modnumb: modnumb.value,\n                description: description.value\n            })\n            isPending.value = false\n            if (res) {\n                context.emit('videoAdded', { wasadded: true })\n            }\n\n        }\n\n\n        return { isPending, wasAdded, handleSubmit, title, course, modnumb, description }\n    }\n\n}\n</script>\n\n<style>\n.module-listing {\n    padding: 10px;\n    background-color: aquamarine;\n    cursor: pointer;\n    margin: 10px;\n}\n</style>"]},"metadata":{},"sourceType":"module"}